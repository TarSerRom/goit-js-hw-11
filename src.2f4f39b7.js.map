{"version":3,"sources":["components/new-api.js","index.js"],"names":["NewsApiService","constructor","searchQuery","page","fetchArticles","console","log","fetch","then","r","json","data","incrementPage","resetPage","query","newQuery","searchFormEl","document","getElementById","imagesContainerEl","querySelector","loadMoreBtn","newsApiService","onSearch","e","preventDefault","currentTarget","elements","value","onLoadMore","addEventListener"],"mappings":";;;AAAmC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAApB,MAAMA,EACjBC,cACSC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAGhBC,gBACIC,QAAQC,IAAI,MAEZC,2EAA2E,KAAKL,gDAAgD,KAAKC,QAChIK,KAAKC,GAAKA,EAAEC,QACZF,KAAKG,IACFN,QAAQC,IAAIK,GACPC,KAAAA,kBAKjBA,gBACST,KAAAA,MAAQ,EAEjBU,YACSV,KAAAA,KAAO,EAGZW,YAEK,OADPT,QAAQC,IAAI,KAAKJ,aACV,KAAKA,YAEVY,UAAMC,GACHb,KAAAA,YAAca,GA9BU,QAAA,QAAA;;ACwCnC,aAxCA,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,yBAuCA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GArCA,MAAMC,EAAeC,SAASC,eAAe,eACvCC,EAAoBF,SAASG,cAAc,YAC3CC,EAAcJ,SAASG,cAAc,6BAErCE,EAAiB,IAAItB,EAAJ,QAMvB,SAASuB,EAASC,GACdA,EAAEC,iBAEFH,EAAeR,MAAQU,EAAEE,cAAcC,SAASzB,YAAY0B,MAC5DN,EAAeT,YACfS,EAAelB,gBAGnB,SAASyB,IAELP,EAAelB,gBAdnBY,EAAac,iBAAiB,SAAUP,GACxCF,EAAYS,iBAAiB,QAASD","file":"src.2f4f39b7.js","sourceRoot":"../src","sourcesContent":["export default class NewsApiService{\n    constructor() {\n        this.searchQuery = \"\";\n        this.page = 1;\n    }\n\n    fetchArticles() {\n        console.log(this);\n       \n        fetch(`https://pixabay.com/api/?key=24711891-660ee969a9a9139e98081d9b6&q=${this.searchQuery}&image_type=photo&per_page=6&page=${this.page}`)\n            .then(r => r.json())\n            .then(data => {\n                console.log(data);\n                this.incrementPage();\n            });\n\n    }\n\n    incrementPage() {\n        this.page += 1; \n    }\n    resetPage() {\n        this.page = 1;\n    }\n\n    get query() {\n      console.log(this.searchQuery);\n      return this.searchQuery;\n    }\n    set query(newQuery) {\n      this.searchQuery = newQuery;\n    }\n}","import './sass/main.scss';\nimport NewsApiService from './components/new-api';\n\nconst searchFormEl = document.getElementById('search-form');\nconst imagesContainerEl = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('[data-action=\"load-more\"]')\n\nconst newsApiService = new NewsApiService();\n\nsearchFormEl.addEventListener('submit', onSearch);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\n\nfunction onSearch(e) {\n    e.preventDefault();\n\n    newsApiService.query = e.currentTarget.elements.searchQuery.value;\n    newsApiService.resetPage();\n    newsApiService.fetchArticles();\n}\n\nfunction onLoadMore() {\n\n    newsApiService.fetchArticles();\n}\n\n\n    //${this.searchQuery}/\n    \n    /**const options = {\n    params: {\n        key: '24711891-660ee969a9a9139e98081d9b6',\n        q: `${this.searchQuery}`,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: `${this.page}`,\n        per_page: 40,\n    }\n}\n*/"]}